{"version":3,"file":"index.cjs","sources":["src/lib/is.js","src/lib/are-rules-potential-nesting-at-rule.js","src/lib/are-rules-potential-nesting-media-rule.js","src/lib/are-rules-potential-nesting-rule.js","src/lib/fix-nesting-at-rule.js","src/lib/fix-nesting-media-rule.js","src/lib/fix-nesting-rule.js","src/index.js"],"sourcesContent":["export default function is(value, ...keys) {\n\tconst length = keys.length;\n\tconst matches = keys.pop();\n\tconst subvalue = keys.reduce((result, key) => Object(result)[key], value);\n\n\treturn length ?\n\t\t[].concat(matches).some(\n\t\t\tmatch => match instanceof RegExp\n\t\t\t\t? match.test(subvalue)\n\t\t\t: match === subvalue\n\t\t)\n\t: Boolean(value);\n}\n","export default function areRulesPotentialNestingAtRule(rule1, rule2, opts) {\n\tconst except = [].concat(Object(opts).except || []);\n\tconst only = [].concat(Object(opts).only || []);\n\n\treturn rule1.selectors && rule2.selectors && rule2.selectors.every(\n\t\trule2Selector => rule1.selectors.every(\n\t\t\trule1Selector =>\n\t\t\t\trule2Selector.length < rule1Selector.length &&\n\t\t\t\t` ${rule2Selector}` === rule1Selector.slice(-rule2Selector.length - 1) &&\n\t\t\t\t(!except.length || except.some(\n\t\t\t\t\tentry => entry instanceof RegExp\n\t\t\t\t\t\t? !entry.test(rule1Selector.slice(0, -rule2Selector.length - 1))\n\t\t\t\t\t: entry !== rule1Selector.slice(0, -rule2Selector.length - 1)\n\t\t\t\t)) &&\n\t\t\t\t(!only.length || only.some(\n\t\t\t\t\tentry => entry instanceof RegExp\n\t\t\t\t\t\t? entry.test(rule1Selector.slice(0, -rule2Selector.length - 1))\n\t\t\t\t\t: entry === rule1Selector.slice(0, -rule2Selector.length - 1)\n\t\t\t\t))\n\t\t)\n\t);\n}\n","export default function areRulesPotentialNestingMediaRule(rule1, rule2, opts) {\n\tconst except = [].concat(Object(opts).except || []);\n\tconst only = [].concat(Object(opts).only || []);\n\n\tconst isRule2MediaRule = rule2.type === 'atrule' && rule2.name === 'media';\n\tconst rule3 = isRule2MediaRule && rule2.nodes && rule2.nodes[0];\n\n\treturn rule1 && rule3 &&\n\trule1.selector && rule3.selector &&\n\trule1.selector === rule3.selector &&\n\t(!except.length || except.some(\n\t\tentry => entry instanceof RegExp\n\t\t\t? !entry.test(rule1.selector)\n\t\t: entry !== rule1.selector\n\t)) &&\n\t(!only.length || only.some(\n\t\tentry => entry instanceof RegExp\n\t\t\t? entry.test(rule1.selector)\n\t\t: entry === rule1.selector\n\t));\n}\n","export default function areRulesPotentialNestingRule(rule1, rule2, opts) {\n\tconst except = [].concat(Object(opts).except || []);\n\tconst only = [].concat(Object(opts).only || []);\n\n\tconst result = rule1.selectors && rule2.selectors && rule2.selectors.every(\n\t\trule2Selector => rule1.selectors.every(\n\t\t\trule1Selector =>\n\t\t\t\trule2Selector.length < rule1Selector.length &&\n\t\t\t\trule2Selector === rule1Selector.slice(0, rule2Selector.length) &&\n\t\t\t\t!/^[A-Za-z0-9-_]/.test(rule1Selector.slice(rule2Selector.length)) &&\n\t\t\t\t(!except.length || except.some(\n\t\t\t\t\tentry => entry instanceof RegExp\n\t\t\t\t\t\t? !entry.test(rule1Selector.slice(rule2Selector.length))\n\t\t\t\t\t: entry !== rule1Selector.slice(rule2Selector.length)\n\t\t\t\t)) &&\n\t\t\t\t(!only.length || only.some(\n\t\t\t\t\tentry => entry instanceof RegExp\n\t\t\t\t\t\t? entry.test(rule1Selector.slice(rule2Selector.length))\n\t\t\t\t\t: entry === rule1Selector.slice(rule2Selector.length)\n\t\t\t\t))\n\t\t)\n\t);\n\treturn result\n}\n","import postcss from 'postcss';\n\nexport default function fixNestingAtRule(rule1, rule2, opts) {\n\tconst syntax = Object(opts).syntax;\n\n\trule1.remove();\n\n\trule1.selectors = rule1.selectors.map(\n\t\tselector => `${selector.slice(0, -rule2.selector.length - 1)} &`\n\t);\n\n\tlet ruleOrAtRule;\n\tswitch (syntax) {\n\t\tcase \"scss\": {\n\t\t\truleOrAtRule = postcss.rule({\n\t\t\t\tselector: String(rule1.selector),\n\t\t\t});\n\t\t\tbreak;\n\t\t}\n\n\t\tdefault: {\n\t\t\truleOrAtRule = postcss.atRule({\n\t\t\t\tname: \"nest\",\n\t\t\t\tparams: String(rule1.selector),\n\t\t\t});\n\t\t}\n\t}\n\n\tconst rule = Object.assign(\n\t\truleOrAtRule,\n\t\t{\n\t\t\traws: Object.assign(rule1.raws, {\n\t\t\t\tafterName: ' '\n\t\t\t}),\n\t\t\tsource: rule1.source\n\t\t}\n\t);\n\n\trule.append(...rule1.nodes);\n\n\trule2.append(rule);\n}\n","export default function fixNestingMediaRule(rule1, media) {\n\tconst isMediaMediaRule = media.type === 'atrule' && media.name === 'media';\n\n\tif (isMediaMediaRule) {\n\t\tconst rule2 = media.nodes[0];\n\t\tconst mediaRule = media.clone().removeAll();\n\n\t\tmediaRule.append(\n\t\t\trule2.nodes.map(node => node.clone())\n\t\t);\n\n\t\trule1.append(mediaRule);\n\n\t\trule2.remove();\n\n\t\tif (!media.nodes.length) {\n\t\t\tmedia.remove();\n\t\t}\n\t}\n}\n","export default function fixNestingRule(rule1, rule2) {\n\trule1.selectors = rule1.selectors.map(\n\t\tselector => `&${selector.slice(rule2.selector.length)}`\n\t);\n\n\trule2.append(rule1);\n}\n","import stylelint from 'stylelint';\nimport is from './lib/is';\nimport areRulesPotentialNestingAtRule from './lib/are-rules-potential-nesting-at-rule';\nimport areRulesPotentialNestingMediaRule from './lib/are-rules-potential-nesting-media-rule';\nimport areRulesPotentialNestingRule from './lib/are-rules-potential-nesting-rule';\nimport fixNestingAtRule from './lib/fix-nesting-at-rule';\nimport fixNestingMediaRule from './lib/fix-nesting-media-rule';\nimport fixNestingRule from './lib/fix-nesting-rule';\n\nexport const ruleName = 'csstools/use-nesting';\n\nexport default stylelint.createPlugin(ruleName, (action, opts, context) => {\n\tconst shouldFix = is(context, 'fix', true);\n\n\treturn async (root, result) => {\n\t\t// validate the action\n\t\tconst isActionValid = stylelint.utils.validateOptions(result, ruleName, {\n\t\t\tactual: action,\n\t\t\tpossible() {\n\t\t\t\treturn is(action, [ 'always', 'ignore', true, false, null ]);\n\t\t\t}\n\t\t});\n\n\t\tif (isActionValid) {\n\t\t\tif (is(action, [ 'always', true ])) {\n\t\t\t\tresult.root.walk(rule => {\n\t\t\t\t\tlet isProcessing = true;\n\n\t\t\t\t\twhile (isProcessing) {\n\t\t\t\t\t\tisProcessing = false;\n\n\t\t\t\t\t\tconst prev = rule.prev();\n\n\t\t\t\t\t\tconst isRuleValid = rule && (rule.type === 'rule' || rule.type === 'atrule');\n\t\t\t\t\t\tconst isPrevValid = prev && (prev.type === 'rule' || prev.type === 'atrule');\n\n\t\t\t\t\t\t// if the previous node is also a rule\n\t\t\t\t\t\tif (isRuleValid && isPrevValid) {\n\t\t\t\t\t\t\tif (areRulesPotentialNestingRule(rule, prev, opts)) {\n\t\t\t\t\t\t\t\t// fix or report the current rule if it could be nested inside the previous rule\n\t\t\t\t\t\t\t\tif (shouldFix) {\n\t\t\t\t\t\t\t\t\tfixNestingRule(rule, prev);\n\n\t\t\t\t\t\t\t\t\tisProcessing = true;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treport(rule, prev, result);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (areRulesPotentialNestingRule(prev, rule, opts)) {\n\t\t\t\t\t\t\t\t// fix or report the previous rule if it could be nested inside the current rule\n\t\t\t\t\t\t\t\tif (shouldFix) {\n\t\t\t\t\t\t\t\t\tfixNestingRule(prev, rule);\n\n\t\t\t\t\t\t\t\t\tisProcessing = true;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treport(prev, rule, result);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (areRulesPotentialNestingAtRule(rule, prev, opts)) {\n\t\t\t\t\t\t\t\t// fix or report the current rule if it could be nested inside the previous rule\n\t\t\t\t\t\t\t\tif (shouldFix) {\n\t\t\t\t\t\t\t\t\tfixNestingAtRule(rule, prev, opts);\n\n\t\t\t\t\t\t\t\t\tisProcessing = true;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treport(rule, prev, result);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (areRulesPotentialNestingAtRule(prev, rule, opts)) {\n\t\t\t\t\t\t\t\t// fix or report the previous rule if it could be nested inside the current rule\n\t\t\t\t\t\t\t\tif (shouldFix) {\n\t\t\t\t\t\t\t\t\tfixNestingAtRule(prev, rule, opts);\n\n\t\t\t\t\t\t\t\t\tisProcessing = true;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treport(prev, rule, result);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (areRulesPotentialNestingMediaRule(rule, prev, opts)) {\n\t\t\t\t\t\t\t\t// fix or report the current rule if it could be nested inside the previous rule\n\t\t\t\t\t\t\t\tif (shouldFix) {\n\t\t\t\t\t\t\t\t\tfixNestingMediaRule(rule, prev);\n\n\t\t\t\t\t\t\t\t\tisProcessing = true;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treport(rule, prev, result);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (areRulesPotentialNestingMediaRule(prev, rule, opts)) {\n\t\t\t\t\t\t\t\t// fix or report the current rule if it could be nested inside the previous rule\n\t\t\t\t\t\t\t\tif (shouldFix) {\n\t\t\t\t\t\t\t\t\tfixNestingMediaRule(prev, rule);\n\n\t\t\t\t\t\t\t\t\tisProcessing = true;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treport(prev, rule, result);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n});\n\nexport const messages = stylelint.utils.ruleMessages(ruleName, {\n\texpected: (node, prev) => {\n\t\tconst outside = prev.type === 'atrule' ? `@${prev.name} ${prev.params}` : node.selector;\n\t\tconst inside = prev.type === 'atrule' ? node.selector : prev.selector;\n\t\tconst message = `Expected \"${outside}\" inside \"${inside}\".`;\n\n\t\treturn message;\n\t}\n});\n\nconst report = (rule1, rule2, result) => {\n\tstylelint.utils.report({\n\t\tmessage: messages.expected(rule1, rule2),\n\t\tnode: rule1,\n\t\tresult,\n\t\truleName\n\t});\n};\n"],"names":[],"mappings":"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"}